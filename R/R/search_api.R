# OpenLattice API
#
# OpenLattice API
#
# The version of the OpenAPI document: 0.0.1
# Contact: support@openlattice.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title Search operations
#' @description openlattice.Search
#' @format An \code{R6Class} generator object
#' @field apiClient Handles the client-server communication.
#'
#' @section Methods:
#' \describe{
#' \strong{ execute_advanced_entity_set_data_query } \emph{ Executes a search over the data of a given entity set to find rows that match the search term }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } advanced_search \link{AdvancedSearch}
#' \item \emph{ @returnType } \link{DataSearchResult} \cr
#'
#'
#' \item status code : 200 | A data search result object, containing the total number of hits for the given query, and the hits themselves
#'
#' \item return type : DataSearchResult 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_entity_neighbor_search } \emph{ Executes a search for all neighbors of an entity that are connected by an association }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } entity_key_id \link{character}
#' \item \emph{ @returnType } list( \link{NeighborEntityDetails} ) \cr
#'
#'
#' \item status code : 200 | A list of objects containing information about the neighbor and association.
#'
#' \item return type : array[NeighborEntityDetails] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_entity_neighbor_search_bulk } \emph{ Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } request_body list( character )
#'
#'
#' \item status code : 200 | A list of objects containing information about the neighbor and association.
#'
#' \item return type : list(array[NeighborEntityDetails]) 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_entity_set_data_query } \emph{ Executes a search over the data of a given entity set to find rows that match the search term }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } search_term \link{SearchTerm}
#' \item \emph{ @returnType } \link{DataSearchResult} \cr
#'
#'
#' \item status code : 200 | A  data search result object, containing the total number of hits for the given query, and the hits themselves.
#'
#' \item return type : DataSearchResult 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_entity_set_keyword_query } \emph{ The query, entityType, and propertyTypes params are all optional, but at least one must be specified otherwise an error will be thrown. All specified params are required to be present in each entity set returned. If entityType and propertyTypes are both specified, the propertyTypes param will be ignored. }
#' 
#'
#' \itemize{
#' \item \emph{ @param } search \link{Search}
#' \item \emph{ @returnType } \link{SearchResult} \cr
#'
#'
#' \item status code : 200 | A list of objects containing information about the neighbor and association.
#'
#' \item return type : SearchResult 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_filtered_entity_neighbor_id_search } \emph{ Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association and returns a simple version of the neighborDetails }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } neighbor_search_filter \link{NeighborSearchFilter}
#'
#'
#' \item status code : 200 | A list of objects containing information about the neighbor and association.
#'
#' \item return type : list(list(list(array[NeighborEntityIds]))) 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ execute_filtered_entity_neighbor_search } \emph{ Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association }
#' 
#'
#' \itemize{
#' \item \emph{ @param } entity_set_id \link{character}
#' \item \emph{ @param } neighbor_search_filter \link{NeighborSearchFilter}
#'
#'
#' \item status code : 200 | A list of objects containing information about the neighbor and association.
#'
#' \item return type : list(array[NeighborEntityDetails]) 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ get_entity_sets } \emph{ Executes a search over all existing entity sets to populate the home page. The path parameters instruct which page to return and how large the page should be. }
#' 
#'
#' \itemize{
#' \item \emph{ @param } start integer
#' \item \emph{ @param } num_results integer
#' \item \emph{ @returnType } list( \link{SearchResult} ) \cr
#'
#'
#' \item status code : 200 | Success
#'
#' \item return type : array[SearchResult] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ get_popular_entity_set } \emph{ Get the most popular entity sets. }
#' 
#'
#' \itemize{
#' \item \emph{ @returnType } list( \link{EntitySet} ) \cr
#'
#'
#' \item status code : 200 | A  data search result object, containing the total number of hits for the given query, and the hits themselves.
#'
#' \item return type : array[EntitySet] 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ search_entity_set_data } \emph{ Executes a search over the data of a given entity set to find rows that match the search term }
#' 
#'
#' \itemize{
#' \item \emph{ @param } search_constraints \link{SearchConstraints}
#' \item \emph{ @returnType } \link{DataSearchResult} \cr
#'
#'
#' \item status code : 200 | A  data search result object, containing the total number of hits for the given query, and the hits themselves.
#'
#' \item return type : DataSearchResult 
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' }
#'
#'
#' @examples
#' \dontrun{
#' ####################  execute_advanced_entity_set_data_query  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.advanced_search <- AdvancedSearch$new() # AdvancedSearch | 
#'
#' #Executes a search over the data of a given entity set to find rows that match the search term
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_advanced_entity_set_data_query(var.entity_set_id, var.advanced_search)
#'
#'
#' ####################  execute_entity_neighbor_search  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.entity_key_id <- 'entity_key_id_example' # character | 
#'
#' #Executes a search for all neighbors of an entity that are connected by an association
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_entity_neighbor_search(var.entity_set_id, var.entity_key_id)
#'
#'
#' ####################  execute_entity_neighbor_search_bulk  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.request_body <- list('request_body_example') # array[character] | 
#'
#' #Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_entity_neighbor_search_bulk(var.entity_set_id, var.request_body)
#'
#'
#' ####################  execute_entity_set_data_query  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.search_term <- SearchTerm$new() # SearchTerm | A JSON object that contains three parameters, \"start\", which specifies the hit number to start returning results on for paging, \"maxHits\", which specifies the maximum number of hits to return, and \"searchTerm\", which is the search term results will match on.
#'
#' #Executes a search over the data of a given entity set to find rows that match the search term
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_entity_set_data_query(var.entity_set_id, var.search_term)
#'
#'
#' ####################  execute_entity_set_keyword_query  ####################
#'
#' library(openlattice)
#' var.search <- Search$new() # Search | 
#'
#' #The query, entityType, and propertyTypes params are all optional, but at least one must be specified otherwise an error will be thrown. All specified params are required to be present in each entity set returned. If entityType and propertyTypes are both specified, the propertyTypes param will be ignored.
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_entity_set_keyword_query(var.search)
#'
#'
#' ####################  execute_filtered_entity_neighbor_id_search  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.neighbor_search_filter <- NeighborSearchFilter$new() # NeighborSearchFilter | 
#'
#' #Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association and returns a simple version of the neighborDetails
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_filtered_entity_neighbor_id_search(var.entity_set_id, var.neighbor_search_filter)
#'
#'
#' ####################  execute_filtered_entity_neighbor_search  ####################
#'
#' library(openlattice)
#' var.entity_set_id <- 'entity_set_id_example' # character | 
#' var.neighbor_search_filter <- NeighborSearchFilter$new() # NeighborSearchFilter | 
#'
#' #Executes a search for all neighbors of multiple entities of the same entity set that are connected by an association
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$execute_filtered_entity_neighbor_search(var.entity_set_id, var.neighbor_search_filter)
#'
#'
#' ####################  get_entity_sets  ####################
#'
#' library(openlattice)
#' var.start <- 56 # integer | The first result number to return
#' var.num_results <- 56 # integer | The total number of results to return
#'
#' #Executes a search over all existing entity sets to populate the home page. The path parameters instruct which page to return and how large the page should be.
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$get_entity_sets(var.start, var.num_results)
#'
#'
#' ####################  get_popular_entity_set  ####################
#'
#' library(openlattice)
#'
#' #Get the most popular entity sets.
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$get_popular_entity_set()
#'
#'
#' ####################  search_entity_set_data  ####################
#'
#' library(openlattice)
#' var.search_constraints <- SearchConstraints$new() # SearchConstraints | 
#'
#' #Executes a search over the data of a given entity set to find rows that match the search term
#' api.instance <- SearchApi$new()
#'
#' #Configure HTTP basic authorization: http_auth
#' # provide your username in the user-serial format
#' api.instance$apiClient$username <- '<user-serial>'; 
#' # provide your api key generated using the developer portal
#' api.instance$apiClient$password <- '<api_key>';
#'
#' #Configure API key authorization: openlattice_auth
#' api.instance$apiClient$apiKeys['Authorization'] <- 'TODO_YOUR_API_KEY';
#'
#' result <- api.instance$search_entity_set_data(var.search_constraints)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
SearchApi <- R6::R6Class(
  'SearchApi',
  public = list(
    apiClient = NULL,
    initialize = function(apiClient){
      if (!missing(apiClient)) {
        self$apiClient <- apiClient
      }
      else {
        self$apiClient <- ApiClient$new()
      }
    },
    execute_advanced_entity_set_data_query = function(entity_set_id, advanced_search, ...){
      apiResponse <- self$execute_advanced_entity_set_data_queryWithHttpInfo(entity_set_id, advanced_search, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_advanced_entity_set_data_queryWithHttpInfo = function(entity_set_id, advanced_search, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`advanced_search`)) {
        stop("Missing required parameter `advanced_search`.")
      }

      if (!missing(`advanced_search`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`advanced_search`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search/advanced/{entitySetId}"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "DataSearchResult", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_entity_neighbor_search = function(entity_set_id, entity_key_id, ...){
      apiResponse <- self$execute_entity_neighbor_searchWithHttpInfo(entity_set_id, entity_key_id, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_entity_neighbor_searchWithHttpInfo = function(entity_set_id, entity_key_id, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`entity_key_id`)) {
        stop("Missing required parameter `entity_key_id`.")
      }

      urlPath <- "/datastore/search/{entitySetId}/{entityKeyId}"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      if (!missing(`entity_key_id`)) {
        urlPath <- gsub(paste0("\\{", "entityKeyId", "\\}"), URLencode(as.character(`entity_key_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[NeighborEntityDetails]", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_entity_neighbor_search_bulk = function(entity_set_id, request_body, ...){
      apiResponse <- self$execute_entity_neighbor_search_bulkWithHttpInfo(entity_set_id, request_body, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_entity_neighbor_search_bulkWithHttpInfo = function(entity_set_id, request_body, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`request_body`)) {
        stop("Missing required parameter `request_body`.")
      }

      if (!missing(`request_body`)) {
        body <- sprintf(
        '
            [%s]
',
              paste(sapply(`request_body`, function(x) { if (is.null(names(x) )) {paste0('"', x, '"')} else {jsonlite::toJSON(x$toJSON(), auto_unbox=TRUE, digits = NA)}}), collapse=",")
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search/{entitySetId}/neighbors"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "list(array[NeighborEntityDetails])", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_entity_set_data_query = function(entity_set_id, search_term, ...){
      apiResponse <- self$execute_entity_set_data_queryWithHttpInfo(entity_set_id, search_term, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_entity_set_data_queryWithHttpInfo = function(entity_set_id, search_term, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`search_term`)) {
        stop("Missing required parameter `search_term`.")
      }

      if (!missing(`search_term`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`search_term`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search/{entitySetId}"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "DataSearchResult", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_entity_set_keyword_query = function(search, ...){
      apiResponse <- self$execute_entity_set_keyword_queryWithHttpInfo(search, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_entity_set_keyword_queryWithHttpInfo = function(search, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`search`)) {
        stop("Missing required parameter `search`.")
      }

      if (!missing(`search`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`search`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search"
      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "SearchResult", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_filtered_entity_neighbor_id_search = function(entity_set_id, neighbor_search_filter, ...){
      apiResponse <- self$execute_filtered_entity_neighbor_id_searchWithHttpInfo(entity_set_id, neighbor_search_filter, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_filtered_entity_neighbor_id_searchWithHttpInfo = function(entity_set_id, neighbor_search_filter, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`neighbor_search_filter`)) {
        stop("Missing required parameter `neighbor_search_filter`.")
      }

      if (!missing(`neighbor_search_filter`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`neighbor_search_filter`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search/{entitySetId}/neighbors/advanced/ids"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "list(list(list(array[NeighborEntityIds])))", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    execute_filtered_entity_neighbor_search = function(entity_set_id, neighbor_search_filter, ...){
      apiResponse <- self$execute_filtered_entity_neighbor_searchWithHttpInfo(entity_set_id, neighbor_search_filter, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    execute_filtered_entity_neighbor_searchWithHttpInfo = function(entity_set_id, neighbor_search_filter, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`entity_set_id`)) {
        stop("Missing required parameter `entity_set_id`.")
      }

      if (missing(`neighbor_search_filter`)) {
        stop("Missing required parameter `neighbor_search_filter`.")
      }

      if (!missing(`neighbor_search_filter`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`neighbor_search_filter`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search/{entitySetId}/neighbors/advanced"
      if (!missing(`entity_set_id`)) {
        urlPath <- gsub(paste0("\\{", "entitySetId", "\\}"), URLencode(as.character(`entity_set_id`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "POST",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "list(array[NeighborEntityDetails])", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    get_entity_sets = function(start, num_results, ...){
      apiResponse <- self$get_entity_setsWithHttpInfo(start, num_results, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    get_entity_setsWithHttpInfo = function(start, num_results, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`start`)) {
        stop("Missing required parameter `start`.")
      }

      if (missing(`num_results`)) {
        stop("Missing required parameter `num_results`.")
      }

      urlPath <- "/datastore/search/entity-sets/{start}/{numResults}"
      if (!missing(`start`)) {
        urlPath <- gsub(paste0("\\{", "start", "\\}"), URLencode(as.character(`start`), reserved = TRUE), urlPath)
      }

      if (!missing(`num_results`)) {
        urlPath <- gsub(paste0("\\{", "numResults", "\\}"), URLencode(as.character(`num_results`), reserved = TRUE), urlPath)
      }

      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[SearchResult]", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    get_popular_entity_set = function(...){
      apiResponse <- self$get_popular_entity_setWithHttpInfo(...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    get_popular_entity_setWithHttpInfo = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      urlPath <- "/datastore/search/popular"
      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "array[EntitySet]", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    },
    search_entity_set_data = function(search_constraints, ...){
      apiResponse <- self$search_entity_set_dataWithHttpInfo(search_constraints, ...)
      resp <- apiResponse$response
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        apiResponse$content
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        apiResponse
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        apiResponse
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        apiResponse
      }
    },

    search_entity_set_dataWithHttpInfo = function(search_constraints, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- c()

      if (missing(`search_constraints`)) {
        stop("Missing required parameter `search_constraints`.")
      }

      if (!missing(`search_constraints`)) {
        body <- sprintf(
        '
          %s
        ',
            jsonlite::toJSON(`search_constraints`$toJSON(), auto_unbox=TRUE, digits = NA)
        )
      } else {
        body <- NULL
      }

      urlPath <- "/datastore/search"
      # API key authentication
      if ("Authorization" %in% names(self$apiClient$apiKeys) && nchar(self$apiClient$apiKeys["Authorization"]) > 0) {
        headerParams['Authorization'] <- paste(unlist(self$apiClient$apiKeys["Authorization"]), collapse='')
      }

      resp <- self$apiClient$CallApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "PATCH",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)

      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        deserializedRespObj <- tryCatch(
          self$apiClient$deserialize(resp, "DataSearchResult", loadNamespace("openlattice")),
          error = function(e){
             stop("Failed to deserialize response")
          }
        )
        ApiResponse$new(deserializedRespObj, resp)
      } else if (httr::status_code(resp) >= 300 && httr::status_code(resp) <= 399) {
        ApiResponse$new(paste("Server returned " , httr::status_code(resp) , " response status code."), resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        ApiResponse$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        ApiResponse$new("API server error", resp)
      }
    }
  )
)
